# Fuse ‚Äî –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∏–≥—Ä–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥

Fuse ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω—ã—Ö —á–∞—Ç–æ–≤ –∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∑–≤–æ–Ω–∫–æ–≤, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –≤ –¥—É—Ö–µ Discord/Telegram. –û–Ω–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–æ –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ `server` –∏ `client`, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –±—ç–∫–µ–Ω–¥—ã –∏ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –Ω–∏–º –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ refresh-—Å–µ—Å—Å–∏—è–º–∏
- üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞–º–∏ (–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞–º–∏) –∏ –∫–∞–Ω–∞–ª–∞–º–∏ (—Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –∏ –≥–æ–ª–æ—Å–æ–≤—ã–º–∏)
- üí¨ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —á–∞—Ç —Å Socket.IO, –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –ø–æ–¥–≥—Ä—É–∑–∫–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–æ–π —Ñ–∞–π–ª–æ–≤
- üéß –ì—Ä—É–ø–ø–æ–≤—ã–µ –≥–æ–ª–æ—Å–æ–≤—ã–µ –∑–≤–æ–Ω–∫–∏ –Ω–∞ –±–∞–∑–µ WebRTC —Å–æ —Å–ø–∏—Å–∫–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- üìé –û—Ç–ø—Ä–∞–≤–∫–∞ –≤–ª–æ–∂–µ–Ω–∏–π (—Ñ–∞–π–ª—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –º—É–∑—ã–∫–∞) —Å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º
- üß≠ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–º—É –±—ç–∫–µ–Ω–¥—É –ø–æ IP/DNS (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏, –±–µ–ª—ã—Ö IP, Radmin VPN, Hamachi –∏ —Ç.–¥.)
- üé® –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Ç–µ–º–∞ –≤ –∂—ë–ª—Ç–æ-—á—ë—Ä–Ω—ã—Ö —Ç–æ–Ω–∞—Ö —Å –∞–∫—Ü–µ–Ω—Ç–∞–º–∏, –±–µ–∑ –ø–µ—Ä–µ–≥–∏–±–∞ –≤ —Å–∫–µ–≤–æ–º–æ—Ä—Ñ–∏–∑–º

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/workspace
‚îú‚îÄ‚îÄ server/     # Node.js + TypeScript backend (Express, Prisma, Socket.IO)
‚îú‚îÄ‚îÄ client/     # Vite + React + TypeScript frontend (React Query, Zustand, Tailwind)
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ .gitignore
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Node.js ‚â• 20
- npm ‚â• 10
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Postgres/—Å–µ—Ä–≤–µ—Ä–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö)

### 2. –ë—ç–∫–µ–Ω–¥

```bash
cd server
cp .env.example .env
npm install
npx prisma migrate dev
npm run dev  # —Å–µ—Ä–≤–µ—Ä –ø–æ–¥–Ω–∏–º–µ—Ç—Å—è –Ω–∞ http://localhost:4000
```

> **–í–∞–∂–Ω–æ:** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL. –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø–æ–¥–Ω–∏–º–∏—Ç–µ Postgres –≤—Ä—É—á–Ω—É—é –ª–∏–±–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `docker-compose` (—Å–º. –Ω–∏–∂–µ).

### 3. –§—Ä–æ–Ω—Ç–µ–Ω–¥

```bash
cd client
npm install
npm run dev  # –∫–ª–∏–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:5173
```

–ü–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `http://localhost:5173`
2. –í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `http://localhost:4000`)
3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏ –Ω–∞—á–Ω–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Fuse

## –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

```bash
docker-compose up --build
```

–ó–∞–ø—É—Å—Ç—è—Ç—Å—è:

- `db` ‚Äî PostgreSQL 16 (–ø–æ—Ä—Ç 5432)
- `server` ‚Äî –±—ç–∫–µ–Ω–¥ Fuse (–ø–æ—Ä—Ç 4000)

–§–∞–π–ª—ã –≤–ª–æ–∂–µ–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `server/uploads`. –ö–ª–∏–µ–Ω—Ç –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ (`npm run dev` –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `client`), –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –±–∏–ª–¥ (`npm run build && npm run preview`).

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è

### server/.env

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                | –û–ø–∏—Å–∞–Ω–∏–µ                                            | –ü—Ä–∏–º–µ—Ä                         |
|---------------------------|------------------------------------------------------|--------------------------------|
| `DATABASE_URL`            | –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Postgres                       | `postgresql://fuse:fuse@localhost:5432/fuse?schema=public` |
| `JWT_SECRET`              | –°–µ–∫—Ä–µ—Ç –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ access/refresh —Ç–æ–∫–µ–Ω–æ–≤           | `super-secret`                 |
| `REFRESH_TOKEN_TTL_DAYS`  | –°—Ä–æ–∫ refresh —Ç–æ–∫–µ–Ω–∞ –≤ –¥–Ω—è—Ö                          | `30`                           |
| `ACCESS_TOKEN_TTL_MINUTES`| –°—Ä–æ–∫ access —Ç–æ–∫–µ–Ω–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö                        | `30`                           |
| `FILE_STORAGE_PATH`       | –ü—É—Ç—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤                | `./uploads`                    |
| `MAX_UPLOAD_MB`           | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ –º–µ–≥–∞–±–∞–π—Ç–∞—Ö       | `100`                          |
| `APP_ORIGIN`              | –ê–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞ (–¥–ª—è CORS –∏ Socket.IO)                | `http://localhost:5173`        |
| `PORT`                    | –ü–æ—Ä—Ç HTTP API                                       | `4000`                         |

### client

–ö–ª–∏–µ–Ω—Ç –Ω–µ —Ç—Ä–µ–±—É–µ—Ç `.env` –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞. –ë–∞–∑–æ–≤—ã–π URL —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Å—Ç–∞—Ä—Ç–æ–≤–æ–º —ç–∫—Ä–∞–Ω–µ.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### –ë—ç–∫–µ–Ω–¥ (`server/`)

- TypeScript, Express 5, Socket.IO 4
- Prisma ORM + PostgreSQL
- JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (access + refresh —Ç–æ–∫–µ–Ω—ã, —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π)
- –°–ª–æ–∏: `routes` ‚Üí `controllers` ‚Üí `services` ‚Üí `lib`
- Socket.IO –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —á–∞—Ç–∞ –∏ —Å–∏–≥–Ω–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ WebRTC
- Multer –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
- –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Zod
- Dockerfile –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### –§—Ä–æ–Ω—Ç–µ–Ω–¥ (`client/`)

- React 19 (Vite), TypeScript
- UI: Tailwind CSS 3, —Ç–µ–º–∞ –≤ –∂—ë–ª—Ç–æ-—á—ë—Ä–Ω–æ–π –ø–∞–ª–∏—Ç—Ä–µ
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –¥–∞–Ω–Ω—ã–µ: React Query 5, Zustand, React Router 7
- WebRTC –¥–ª—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∑–≤–æ–Ω–∫–æ–≤ (peer-to-peer, —Å–∏–≥–Ω–∞–ª–∏–Ω–≥ —á–µ—Ä–µ–∑ Socket.IO)
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –∏ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –≤–ª–æ–∂–µ–Ω–∏–π
- –°—Ç—Ä–∞–Ω–∏—Ü—ã:
  - `ConnectPage` ‚Äî –≤—ã–±–æ—Ä IP/DNS —Å–µ—Ä–≤–µ—Ä–∞
  - `AuthPage` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  - `WorkspacePage` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Å–µ—Ä–≤–µ—Ä—ã, –∫–∞–Ω–∞–ª—ã, —á–∞—Ç, –∑–≤–æ–Ω–∫–∏)

## –ù–∞–±–æ—Ä –∫–æ–º–∞–Ω–¥

### Server

| –ö–æ–º–∞–Ω–¥–∞             | –û–ø–∏—Å–∞–Ω–∏–µ                              |
|---------------------|----------------------------------------|
| `npm run dev`       | –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (ts-node-dev) |
| `npm run build`     | –ö–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript                  |
| `npm start`         | –ó–∞–ø—É—Å–∫ —Å–æ–±—Ä–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ (`dist/index.js`) |
| `npm run prisma:generate` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client          |
| `npm run prisma:migrate`  | –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ `init`         |

### Client

| –ö–æ–º–∞–Ω–¥–∞          | –û–ø–∏—Å–∞–Ω–∏–µ                            |
|------------------|--------------------------------------|
| `npm run dev`    | Dev-—Å–µ—Ä–≤–µ—Ä Vite —Å HMR                |
| `npm run build`  | Production-—Å–±–æ—Ä–∫–∞                    |
| `npm run preview`| –ü—Ä–æ—Å–º–æ—Ç—Ä production-—Å–±–æ—Ä–∫–∏           |

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- [x] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ª—é–±–æ–º—É —Å–µ—Ä–≤–µ—Ä—É –ø–æ URL/IP
- [x] Auth flow (register/login/refresh/logout)
- [x] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞–º–∏ –∏ –∫–∞–Ω–∞–ª–∞–º–∏ (REST + Prisma)
- [x] Websocket-—á–∞—Ç —Å –ø—É—à–µ–º –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- [x] –ó–∞–≥—Ä—É–∑–∫–∞ –≤–ª–æ–∂–µ–Ω–∏–π –∏ –∏—Ö –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —á–∞—Ç–µ
- [x] WebRTC-–∑–≤–æ–Ω–∫–∏ —Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–∏–≥–Ω–∞–ª–∏–Ω–≥–æ–º
- [x] Docker Compose –¥–ª—è Postgres + backend

## –î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏

- –î–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª–∏/–ø—Ä–∞–≤–∞ –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –ø–æ —Å—Å—ã–ª–∫–∞–º –∏ –ø—É–±–ª–∏—á–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–¥–µ—Ä–∞—Ü–∏–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–µ—Ç—Ä–∏–∫–∏

---

–ì–æ—Ç–æ–≤–æ! –ó–∞–ø—É—Å–∫–∞–π—Ç–µ Postgres –∏ backend (`npm run dev` –∏–ª–∏ `docker-compose up`), —Å—Ç–∞—Ä—Ç—É–π—Ç–µ –∫–ª–∏–µ–Ω—Ç (`npm run dev` –≤ `client/`) –∏ –ø–æ–ª—å–∑—É–π—Ç–µ—Å—å Fuse. –£–¥–∞—á–Ω—ã—Ö —Å–µ—Å—Å–∏–π –∏ –ø—Ä–∏—è—Ç–Ω—ã—Ö –∏–≥—Ä!
